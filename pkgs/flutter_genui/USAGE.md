# GenUI Usage

This guidance explains how to enable GenUI for your [Flutter project](https://docs.flutter.dev/reference/create-new-app).

## Hello World

This section describes how to build a minimal GenUI interaction.

### Configure Firebase

1. [Create a new Firebase project](https://support.google.com/appsheet/answer/10104995) with Firebase Console.

1. [Enable Gemini](https://firebase.google.com/docs/gemini-in-firebase/set-up-gemini)
   for the project.

1. Follow [the steps](https://firebase.google.com/docs/flutter/setup)
   to configure your Flutter project.

If `flutterfire configure` fails, try one or all of these:

- delete existing `lib/firebase_options.dart`
- switch to flutter stable
- run `flutter clean` and `flutter upgrade` for the project
- recreate firebase project
- remove a platform folder in flutter project and re-add it with flutter stable by running the create command `flutter create --platforms=web,macos .`

> Security: It is secure to publish the generated Firebase configuration files, even though they contain the string "apiKey" with a key. See [the Firebase documentation](https://firebase.google.com/docs/projects/learn-more#config-files-objects) for more information.

1. If you run your Flutter project on the `ios` or `macos` platform, add this key to your
   `{ios,macos}/Runner/*.entitlements` file(s):

   ```xml
   <dict>
   ...
   <key>com.apple.security.network.client</key>
   <true/>
   </dict>
   ```

### Employ `flutter_genui`

For a complete example, refer to [main.dart in the minimal_genui example](../../examples/minimal_genui/lib/main.dart). The following steps outline the details of setting up your project to use `flutter_genui`:

1. In your `pubspec.yaml` file, add `flutter_genui` to the `dependencies` section with one of the following options:

   - Reference the github project directly:

   ```yaml
   flutter_genui:
   git:
     url: https://github.com/flutter/genui.git
     path: pkgs/flutter_genui
   ```

- In the future: download from [pub.dev](https://pub.dev)! (We're not ready to publish this as a package until the API is more stable.)

1. Invoke `Firebase.initializeApp` before `runApp`:

   ```dart
   WidgetsFlutterBinding.ensureInitialized();
   await Firebase.initializeApp(options: DefaultFirebaseOptions.currentPlatform);
   ```

1. Construct a `GenUiManager` as a member of a `StatefulWidget` state in a widget where you want the generated user interface to render. Use the constructor `GenUiManager.chat` to create a chat-style interaction, or the default constructor to control the style more directly.

1. Update the `build` method of the widget to render `_genUiManager.widget()`.

1. If you are not using the `.chat` constructor, in `initState`, or in an event handler, submit an AI request: `_genUiManager.sendUserPrompt(userPrompt)`.

1. Start your application and verify that after the prompt is submitted, the widget, generated by `_genUiManager`, renders the AI response.

## Enhance to GenUI Application

Get inspired by our examples. The [`minimal_genui`](../../examples/minimal_genui/) example is a great starting point. You can find other examples under development in the [`examples/`](../../examples/) directory. Most will require you to [configure Firebase](#configure-firebase) first.

Then apply what you learned to your app!

If something is unclear or missing, please [create an issue](https://github.com/flutter/genui/issues/new/choose).
