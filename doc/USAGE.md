# GenUI Usage

This guidance explains how to enable GenUI for your
[Flutter project](https://docs.flutter.dev/reference/create-new-app).

## Hello World

This section describes how to build a minimal
GenUI application.

### Configure Firebase

1. [Create a new Firebase project](https://support.google.com/appsheet/answer/10104995) with Firebase Console.

1. [Enable Gemini](https://firebase.google.com/docs/gemini-in-firebase/set-up-gemini)
for the project.

1. Follow [the steps](https://firebase.google.com/docs/flutter/setup)
to configure your Flutter project.

    NOTE: see how secure it is to publish the generated files
    [here](https://firebase.google.com/docs/projects/learn-more#config-files-objects).

1. If you run your Flutter project on the `ios` or `macos` platform, add this key to your
`{ios,macos}/Runner/*.entitlements` file(s):

  ```xml
  <dict>
    ...
    <key>com.apple.security.network.client</key>
    <true/>
  </dict>
  ```

### Employ `flutter_genui`

1. Add a dependency on `flutter_genui` with one of the following options:

    * `flutter pub add flutter_genui`

    * Or reference it by `path` in the `pubspec.yaml`:

      ```
      flutter_genui:
          path: <path to flutter_genui>
      ```

1. Invoke `Firebase.initializeApp` before `runApp`:

    ```dart
    WidgetsFlutterBinding.ensureInitialized();
    await Firebase.initializeApp(options: DefaultFirebaseOptions.currentPlatform);
    ```

1. Construct `GenUiManager` as a state member in a widget where
you want the generated user interface to render:

    ```dart
    final GenUiManager _genUiManager = GenUiManager.conversation(llmConnection: AiClient());
    ```

1. Update the `build` method of the widget to render `_genUiManager.widget()`.

1. In `initState`, or in an event handler, submit an AI request:

    ```dart
    _genUiManager.sendUserPrompt(userPrompt);
    ```

1. Start your application and verify that after the prompt is submitted,
the widget, generated by `_genUiManager`, renders the AI response.

## Enhance to GenUI Application

TODO: add instructions
